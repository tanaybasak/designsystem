.#{$prefix}-logic-builder {
  --paddingLeft: 0.5rem;
  --paddingRight: 0;
  --headerHeight: 2.5rem;
  --borderWidth: 0.125rem;
  --tileTitleHeight: 1.5rem;
  --tileBorderWidth: 0.0625rem;
  --borderRadius: 0px;
  --borderRadiusAdj: var(--borderRadius);

  width: 100%;

  &.logic-builder-round {
    --borderRadius: 0.3125rem;
    --borderRadiusAdj: var(--borderRadius);
  }

  @include media-breakpoint-between(md, xxl) {
    --paddingLeft: 1rem;
    --paddingRight: 0.75rem;
  }

  .logic-builder-group {
    padding: 0;
    list-style: none;
    margin: 0;

    .logic-builder-list {
      list-style: none;
      margin: 0;
      position: relative;

      .tile-header {
        font-size: 0.875rem;
        font-weight: 500;
      }

      .hcl-tile {
        width: 100%;
        padding: 0 var(--paddingRight) 0 var(--paddingLeft);
        margin-bottom: 0.5rem;

        .logic-builder-item-wrapper {
          .logic-builder-item {
            position: relative;

            .logic-builder-item-header {
              position: relative;
              display: flex;
              flex-direction: row;
              align-items: center;
              justify-content: space-between;

              .logic-builder-item-header-left {
                display: flex;
                flex-direction: row;

                flex: 1;
                min-width: 0;

                .logic-builder-query {
                  min-height: var(--headerHeight);
                  vertical-align: middle;
                  display: flex;
                  justify-content: center;
                  align-items: center;
                  word-break: break-all;

                  flex: 1;
                  min-width: 0;

                  .logic-builder-query-rule {
                    width: 100%;
                    height: 100%;
                    align-items: center;
                    display: flex;
                    padding: 0.625rem;

                    span {
                      font-size: 0.875rem;
                      color: var(--default_text_low);
                      letter-spacing: 0.16px;
                      display: inline-block;
                      overflow: hidden;
                      text-overflow: ellipsis;
                      white-space: nowrap;
                      opacity: 0.5;
                    }

                    .inline-edit-button {
                      color: var(--interactive_icon_hover);
                      margin-left: 1rem;
                      cursor: pointer;
                      visibility: hidden;
                      flex-shrink: 0;
                    }

                    &:hover {
                      span {
                        cursor: pointer;
                        opacity: 1;
                      }

                      background: var(--interactive_bg_hover);
                      cursor: pointer;

                      .inline-edit-button {
                        visibility: visible;
                      }
                    }
                  }
                }
                .logic-builder-inline-edit-wrapper{
                    width:100%;
                }
              }

              .logic-builder-item-header-right {
                display: flex;
                flex-direction: row;
                align-items: center;

                button {
                  height: var(--headerHeight);
                  width: var(--headerHeight);
                  margin: 0;
                }
              }
            }
          }
        }
      }

      .child::before {
        content: '';
        position: absolute;
        width: calc(var(--paddingLeft) + var(--borderWidth));
        height: calc(
          var(--tileTitleHeight) + calc(var(--headerHeight) / 2) +
            var(--borderWidth) + var(--tileBorderWidth)
        );
        display: block;
        border-style: solid;
        border-width: 0 0 var(--borderWidth) var(--borderWidth);
        border-color: var(--default_border_low);
        top: 0;
        left: calc(0px - (var(--paddingLeft) + var(--borderWidth)));
        border-radius: 0 0 0 var(--borderRadius);
      }

      .child.no-title::before {
        content: '';
        height: calc(
          calc(var(--headerHeight) / 2) + var(--borderWidth) +
            var(--tileBorderWidth)
        );
      }

      .child::after {
        content: '';
        position: absolute;
        width: calc(var(--paddingLeft) + var(--borderWidth));
        height: calc(
          100% -
            calc(
              var(--tileTitleHeight) + calc(var(--headerHeight) / 2) +
                var(--borderWidth) + var(--tileBorderWidth)
            ) + var(--borderRadiusAdj)
        );
        display: block;
        border-style: solid;
        border-width: 0 0 0 var(--borderWidth);
        border-color: var(--default_border_low);
        top: calc(
          var(--tileTitleHeight) + calc(var(--headerHeight) / 2) +
            var(--borderWidth) + var(--tileBorderWidth) - var(--borderRadiusAdj)
        );
        left: calc(0px - (var(--paddingLeft) + var(--borderWidth)));
      }

      .child.no-title::after {
        content: '';
        height: calc(
          100% -
            calc(
              calc(var(--headerHeight) / 2) + var(--borderWidth) +
                var(--tileBorderWidth)
            ) + var(--borderRadiusAdj)
        );
        top: calc(
          calc(var(--headerHeight) / 2) + var(--borderWidth) +
            var(--tileBorderWidth) - var(--borderRadiusAdj)
        );
      }

      &.last-element > .child::after {
        border-style: dotted;
      }

      &:last-child > .child::after {
        content: none;
      }

      &.add-more-element {
        &::before {
          content: '';
          position: absolute;
          width: calc(var(--paddingLeft) + var(--borderWidth));
          height: calc(calc(var(--headerHeight) / 2) - var(--borderWidth));
          display: block;
          border-style: dotted;
          border-width: 0 0 var(--borderWidth) var(--borderWidth);
          border-color: var(--default_border_low);
          top: var(--borderWidth);
          left: calc(0px - (var(--paddingLeft) + var(--borderWidth)));
          border-radius: 0 0 0 var(--borderRadius);
        }

        button {
          font-size: 1.5rem;
          width: 2.5rem;
          height: 2.5rem;
          margin: 0;
        }
      }

      .expanded-tile
        > .hcl-tile
        > .logic-builder-item-wrapper
        > .logic-builder-item::before {
        content: '';
        position: absolute;
        width: calc(var(--paddingLeft) + 1px);
        height: 100%;
        display: block;
        border-style: solid;
        border-width: var(--borderWidth) var(--borderWidth) 0 0;
        border-color: var(--default_border_low);
        top: calc(var(--headerHeight) / 2);
        left: calc(0px - var(--paddingLeft) - 1px);
        border-radius: 0 var(--borderRadius) 0 0;
      }

      .collapsed-tile > .hcl-tile::before {
        content: '';
        position: absolute;
        width: var(--paddingLeft);
        height: calc(var(--headerHeight) / 2);
        display: block;
        border-style: solid;
        top: calc(var(--headerHeight) / 2);
        border-width: var(--borderWidth) 0 0 0;
        border-color: var(--default_border_low);
        top: calc(var(--headerHeight) / 2);
        left: -1px;
      }

      .children-exist.collapsed-tile > .hcl-tile::before {
        content: '';
        position: absolute;
        width: var(--paddingLeft);
        height: calc(var(--headerHeight) / 2);
        display: block;
        border-top-style: solid;
        border-right-style: dotted;
        top: calc(var(--headerHeight) / 2);
        border-width: var(--borderWidth) var(--borderWidth) 0 0;
        border-color: var(--default_border_low);
        top: calc(var(--headerHeight) / 2);
        left: -1px;
      }
    }

    &.main-parent > .logic-builder-list > .child::before {
      content: none;
    }

    &.subItem {
      padding-left: var(--paddingLeft) !important;
    }
  }
}
